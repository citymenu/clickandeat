(function(e,t,n,r){"use strict";var i=n(e),s=n(t),o=n.fancybox=function(){o.open.apply(this,arguments)},u=null,a=t.createTouch!==r,f=function(e){return e&&e.hasOwnProperty&&e instanceof n},l=function(e){return e&&n.type(e)==="string"},c=function(e){return l(e)&&e.indexOf("%")>0},h=function(e){return e&&!(e.style.overflow&&e.style.overflow==="hidden")&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},p=function(e,t){var n=parseInt(e,10);if(t&&c(e)){n=o.getViewport()[t]/100*n}return Math.ceil(n)},d=function(e,t){return p(e,t)+"px"};n.extend(o,{version:"2.1.0",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:true,autoHeight:false,autoWidth:false,autoResize:!a,autoCenter:!a,fitToView:true,aspectRatio:false,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3e3,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0"'+(n.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{closeClick:true,speedOut:200,showEarly:true,css:{}},title:{type:"float"}},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){if(!e){return}if(!n.isPlainObject(t)){t={}}if(false===o.close(true)){return}if(!n.isArray(e)){e=f(e)?n(e).get():[e]}n.each(e,function(i,s){var u={},a,c,h,p,d,v,m;if(n.type(s)==="object"){if(s.nodeType){s=n(s)}if(f(s)){u={href:s.attr("href"),title:s.attr("title"),isDom:true,element:s};if(n.metadata){n.extend(true,u,s.metadata())}}else{u=s}}a=t.href||u.href||(l(s)?s:null);c=t.title!==r?t.title:u.title||"";h=t.content||u.content;p=h?"html":t.type||u.type;if(!p&&u.isDom){p=s.data("fancybox-type");if(!p){d=s.prop("class").match(/fancybox\.(\w+)/);p=d?d[1]:null}}if(l(a)){if(!p){if(o.isImage(a)){p="image"}else if(o.isSWF(a)){p="swf"}else if(a.charAt(0)==="#"){p="inline"}else if(l(s)){p="html";h=s}}if(p==="ajax"){v=a.split(/\s+/,2);a=v.shift();m=v.shift()}}if(!h){if(p==="inline"){if(a){h=n(l(a)?a.replace(/.*(?=#[^\s]+$)/,""):a)}else if(u.isDom){h=s}}else if(p==="html"){h=a}else if(!p&&!a&&u.isDom){p="inline";h=s}}n.extend(u,{href:a,type:p,content:h,title:c,selector:m});e[i]=u});o.opts=n.extend(true,{},o.defaults,t);if(t.keys!==r){o.opts.keys=t.keys?n.extend({},o.defaults.keys,t.keys):false}o.group=e;return o._start(o.opts.index)},cancel:function(){var e=o.coming;if(!e||false===o.trigger("onCancel")){return}o.hideLoading();if(o.ajaxLoad){o.ajaxLoad.abort()}o.ajaxLoad=null;if(o.imgPreload){o.imgPreload.onload=o.imgPreload.onerror=null}if(e.wrap){e.wrap.stop(true).trigger("onReset").remove()}if(!o.current){o.trigger("afterClose")}o.coming=null},close:function(e){o.cancel();if(false===o.trigger("beforeClose")){return}o.unbindEvents();if(!o.isOpen||e===true){n(".fancybox-wrap").stop(true).trigger("onReset").remove();o._afterZoomOut()}else{o.isOpen=o.isOpened=false;o.isClosing=true;n(".fancybox-item, .fancybox-nav").remove();o.wrap.stop(true,true).removeClass("fancybox-opened");if(o.wrap.css("position")==="fixed"){o.wrap.css(o._getPosition(true))}o.transitions[o.current.closeMethod]()}},play:function(e){var t=function(){clearTimeout(o.player.timer)},r=function(){t();if(o.current&&o.player.isActive){o.player.timer=setTimeout(o.next,o.current.playSpeed)}},i=function(){t();n("body").unbind(".player");o.player.isActive=false;o.trigger("onPlayEnd")},s=function(){if(o.current&&(o.current.loop||o.current.index<o.group.length-1)){o.player.isActive=true;n("body").bind({"afterShow.player onUpdate.player":r,"onCancel.player beforeClose.player":i,"beforeLoad.player":t});r();o.trigger("onPlayStart")}};if(e===true||!o.player.isActive&&e!==false){s()}else{i()}},next:function(e){var t=o.current;if(t){if(!l(e)){e=t.direction.next}o.jumpto(t.index+1,e,"next")}},prev:function(e){var t=o.current;if(t){if(!l(e)){e=t.direction.prev}o.jumpto(t.index-1,e,"prev")}},jumpto:function(e,t,n){var i=o.current;if(!i){return}e=p(e);o.direction=t||i.direction[e>=i.index?"next":"prev"];o.router=n||"jumpto";if(i.loop){if(e<0){e=i.group.length+e%i.group.length}e=e%i.group.length}if(i.group[e]!==r){o.cancel();o._start(e)}},reposition:function(e,t){var n;if(o.isOpen){n=o._getPosition(t);if(e&&e.type==="scroll"){delete n.position;o.wrap.stop(true,true).animate(n,200)}else{o.wrap.css(n)}}},update:function(e){var t=e&&e.type,n=!t||t==="orientationchange";if(n){clearTimeout(u);u=null}if(!o.isOpen||u){return}if(n||a){o.wrap.removeAttr("style").addClass("fancybox-tmp");o.trigger("onUpdate")}u=setTimeout(function(){var n=o.current;if(!n){return}o.wrap.removeClass("fancybox-tmp");if(t!=="scroll"){o._setDimension()}if(!(t==="scroll"&&n.canShrink)){o.reposition(e)}o.trigger("onUpdate");u=null},a?500:n?20:300)},toggle:function(e){if(o.isOpen){o.current.fitToView=n.type(e)==="boolean"?e:!o.current.fitToView;o.update()}},hideLoading:function(){s.unbind("keypress.fb");n("#fancybox-loading").remove()},showLoading:function(e){var t,r;o.hideLoading();e=e?e:getLabel("ajax.default");s.bind("keypress.fb",function(e){if((e.which||e.keyCode)===27){e.preventDefault();o.cancel()}});t=n('<div id="fancybox-loading"><div class="fancybox-message">'+e+"</div></div>").click(o.cancel).appendTo("body");if(!o.defaults.fixed){r=o.getViewport();t.css({position:"absolute",top:r.h*.5+r.y,left:r.w*.5+r.x})}},getViewport:function(){var t=o.current?o.current.locked:false,n={x:i.scrollLeft(),y:i.scrollTop()};if(t){n.w=t[0].clientWidth;n.h=t[0].clientHeight}else{n.w=a&&e.innerWidth?e.innerWidth:i.width();n.h=a&&e.innerHeight?e.innerHeight:i.height()}return n},unbindEvents:function(){if(o.wrap&&f(o.wrap)){o.wrap.unbind(".fb")}s.unbind(".fb");i.unbind(".fb")},bindEvents:function(){var e=o.current,t;if(!e){return}i.bind("orientationchange.fb"+(a?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),o.update);t=e.keys;if(t){s.bind("keydown.fb",function(i){var s=i.which||i.keyCode,u=i.target||i.srcElement;if(!i.ctrlKey&&!i.altKey&&!i.shiftKey&&!i.metaKey&&!(u&&(u.type||n(u).is("[contenteditable]")))){n.each(t,function(t,u){if(e.group.length>1&&u[s]!==r){o[t](u[s]);i.preventDefault();return false}if(n.inArray(s,u)>-1){o[t]();i.preventDefault();return false}})}})}if(n.fn.mousewheel&&e.mouseWheel){o.wrap.bind("mousewheel.fb",function(t,r,i,s){var u=t.target||null,a=n(u),f=false;while(a.length){if(f||a.is(".fancybox-skin")||a.is(".fancybox-wrap")){break}f=h(a[0]);a=n(a).parent()}if(r!==0&&!f){if(o.group.length>1&&!e.canShrink){if(s>0||i>0){o.prev(s>0?"down":"left")}else if(s<0||i<0){o.next(s<0?"up":"right")}t.preventDefault()}}})}},trigger:function(e,t){var r,i=t||o.coming||o.current;if(!i){return}if(n.isFunction(i[e])){r=i[e].apply(i,Array.prototype.slice.call(arguments,1))}if(r===false){return false}if(e==="onCancel"&&!o.isOpened){o.isActive=false}if(i.helpers){n.each(i.helpers,function(t,r){if(r&&o.helpers[t]&&n.isFunction(o.helpers[t][e])){o.helpers[t][e](r,i)}})}n.event.trigger(e+".fb")},isImage:function(e){return l(e)&&e.match(/\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$/i)},isSWF:function(e){return l(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t={},r,i,s,u,f;e=p(e);r=o.group[e]||null;if(!r){return false}t=n.extend(true,{},o.opts,r);u=t.margin;f=t.padding;if(n.type(u)==="number"){t.margin=[u,u,u,u]}if(n.type(f)==="number"){t.padding=[f,f,f,f]}if(t.modal){n.extend(true,t,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(t.autoSize){t.autoWidth=t.autoHeight=true}if(t.width==="auto"){t.autoWidth=true}if(t.height==="auto"){t.autoHeight=true}t.group=o.group;t.index=e;o.coming=t;if(false===o.trigger("beforeLoad")){o.coming=null;return}s=t.type;i=t.href;if(!s){o.coming=null;if(o.current&&o.router&&o.router!=="jumpto"){o.current.index=e;return o[o.router](o.direction)}return false}o.isActive=true;if(s==="image"||s==="swf"){t.autoHeight=t.autoWidth=false;t.scrolling="visible"}if(s==="image"){t.aspectRatio=true}if(s==="iframe"&&a){t.scrolling="scroll"}t.wrap=n(t.tpl.wrap).addClass("fancybox-"+(a?"mobile":"desktop")+" fancybox-type-"+s+" fancybox-tmp "+t.wrapCSS).appendTo(t.parent);n.extend(t,{skin:n(".fancybox-skin",t.wrap),outer:n(".fancybox-outer",t.wrap),inner:n(".fancybox-inner",t.wrap)});n.each(["Top","Right","Bottom","Left"],function(e,n){t.skin.css("padding"+n,d(t.padding[e]))});o.trigger("onReady");if(s==="inline"||s==="html"){if(!t.content||!t.content.length){return o._error("content")}}else if(!i){return o._error("href")}if(s==="image"){o._loadImage()}else if(s==="ajax"){o._loadAjax()}else if(s==="iframe"){o._loadIframe()}else{o._afterLoad()}},_error:function(e){n.extend(o.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:o.coming.tpl.error});o._afterLoad()},_loadImage:function(){var e=o.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null;o.coming.width=this.width;o.coming.height=this.height;o._afterLoad()};e.onerror=function(){this.onload=this.onerror=null;o._error("image")};e.src=o.coming.href;if(e.complete===r||!e.complete){o.showLoading()}},_loadAjax:function(){var e=o.coming;o.showLoading();o.ajaxLoad=n.ajax(n.extend({},e.ajax,{url:e.href,error:function(e,t){if(o.coming&&t!=="abort"){o._error("ajax",e)}else{o.hideLoading()}},success:function(t,n){if(n==="success"){e.content=t;o._afterLoad()}}}))},_loadIframe:function(){var e=o.coming,t=n(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",a?"auto":e.iframe.scrolling).attr("src",e.href);n(e.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}});if(e.iframe.preload){o.showLoading();t.one("load",function(){n(this).data("ready",1);if(!a){n(this).bind("load.fb",o.update)}n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();o._afterLoad()})}e.content=t.appendTo(e.inner);if(!e.iframe.preload){o._afterLoad()}},_preloadImages:function(){var e=o.group,t=o.current,n=e.length,r=t.preload?Math.min(t.preload,n-1):0,i,s;for(s=1;s<=r;s+=1){i=e[(t.index+s)%n];if(i.type==="image"&&i.href){(new Image).src=i.href}}},_afterLoad:function(){var e=o.coming,t=o.current,r="fancybox-placeholder",i,s,u,a,l,c;o.hideLoading();if(!e||o.isActive===false){return}if(false===o.trigger("afterLoad",e,t)){e.wrap.stop(true).trigger("onReset").remove();o.coming=null;return}if(t){o.trigger("beforeChange",t);t.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove();if(t.wrap.css("position")==="fixed"){t.wrap.css(o._getPosition(true))}}o.unbindEvents();i=e;s=e.content;u=e.type;a=e.scrolling;n.extend(o,{wrap:i.wrap,skin:i.skin,outer:i.outer,inner:i.inner,current:i,previous:t});l=i.href;switch(u){case"inline":case"ajax":case"html":if(i.selector){s=n("<div>").html(s).find(i.selector)}else if(f(s)){if(!s.data(r)){s.data(r,n('<div class="'+r+'"></div>').insertAfter(s).hide())}s=s.show().detach();i.wrap.bind("onReset",function(){if(n(this).find(s).length){s.hide().replaceAll(s.data(r)).data(r,false)}})}break;case"image":s=i.tpl.image.replace("{href}",l);break;case"swf":s='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+l+'"></param>';c="";n.each(i.swf,function(e,t){s+='<param name="'+e+'" value="'+t+'"></param>';c+=" "+e+'="'+t+'"'});s+='<embed src="'+l+'" type="application/x-shockwave-flash" width="100%" height="100%"'+c+"></embed></object>";break}if(!(f(s)&&s.parent().is(i.inner))){i.inner.append(s)}o.trigger("beforeShow");i.inner.css("overflow",a==="yes"?"scroll":a==="no"?"hidden":a);o._setDimension();i.wrap.removeClass("fancybox-tmp");i.pos=n.extend({},i.dim,o._getPosition(true));o.isOpen=false;o.coming=null;o.bindEvents();if(!o.isOpened){n(".fancybox-wrap").not(i.wrap).stop(true).trigger("onReset").remove()}else if(t.prevMethod){o.transitions[t.prevMethod]()}o.transitions[o.isOpened?i.nextMethod:i.openMethod]();o._preloadImages()},_setDimension:function(){var e=o.getViewport(),t=0,r=false,i=false,s=o.wrap,u=o.skin,a=o.inner,f=o.current,l=f.width,h=f.height,v=f.minWidth,m=f.minHeight,g=f.maxWidth,y=f.maxHeight,b=f.scrolling,w=f.scrollOutside?f.scrollbarWidth:0,E=f.margin,S=E[1]+E[3],x=E[0]+E[2],T,N,C,k,L,A,O,M,_,D,P,H,B,j,I;s.add(u).add(a).width("auto").height("auto");T=u.outerWidth(true)-u.width();N=u.outerHeight(true)-u.height();C=S+T;k=x+N;L=c(l)?(e.w-C)*p(l)/100:l;A=c(h)?(e.h-k)*p(h)/100:h;if(f.type==="iframe"){j=f.content;if(f.autoHeight&&j.data("ready")===1){try{if(j[0].contentWindow.document.location){a.width(L).height(9999);I=j.contents().find("body");if(w){I.css("overflow-x","hidden")}A=I.height()}}catch(q){}}}else if(f.autoWidth||f.autoHeight){a.addClass("fancybox-tmp");if(!f.autoWidth){a.width(L)}if(!f.autoHeight){a.height(A)}if(f.autoWidth){L=a.width()}if(f.autoHeight){A=a.height()}a.removeClass("fancybox-tmp")}l=p(L);h=p(A);_=L/A;v=p(c(v)?p(v,"w")-C:v);g=p(c(g)?p(g,"w")-C:g);m=p(c(m)?p(m,"h")-k:m);y=p(c(y)?p(y,"h")-k:y);O=g;M=y;H=e.w-S;B=e.h-x;if(f.aspectRatio){if(l>g){l=g;h=l/_}if(h>y){h=y;l=h*_}if(l<v){l=v;h=l/_}if(h<m){h=m;l=h*_}}else{l=Math.max(v,Math.min(l,g));h=Math.max(m,Math.min(h,y))}if(f.fitToView){g=Math.min(e.w-C,g);y=Math.min(e.h-k,y);a.width(p(l)).height(p(h));s.width(p(l+T));D=s.width();P=s.height();if(f.aspectRatio){while((D>H||P>B)&&l>v&&h>m){if(t++>19){break}h=Math.max(m,Math.min(y,h-10));l=h*_;if(l<v){l=v;h=l/_}if(l>g){l=g;h=l/_}a.width(p(l)).height(p(h));s.width(p(l+T));D=s.width();P=s.height()}}else{l=Math.max(v,Math.min(l,l-(D-H)));h=Math.max(m,Math.min(h,h-(P-B)))}}if(w&&b==="auto"&&h<A&&l+T+w<H){l+=w}a.width(p(l)).height(p(h));s.width(p(l+T));D=s.width();P=s.height();r=(D>H||P>B)&&l>v&&h>m;i=f.aspectRatio?l<O&&h<M&&l<L&&h<A:(l<O||h<M)&&(l<L||h<A);n.extend(f,{dim:{width:d(D),height:d(P)},origWidth:L,origHeight:A,canShrink:r,canExpand:i,wPadding:T,hPadding:N,wrapSpace:P-u.outerHeight(true),skinSpace:u.height()-h});if(!j&&f.autoHeight&&h>m&&h<y&&!i){a.height("auto")}},_getPosition:function(e){var t=o.current,n=o.getViewport(),r=t.margin,i=o.wrap.width()+r[1]+r[3],s=o.wrap.height()+r[0]+r[2],u={position:"absolute",top:r[0],left:r[3]};if(t.autoCenter&&t.fixed&&!e&&s<=n.h&&i<=n.w){u.position="fixed"}else if(!t.locked){u.top+=n.y;u.left+=n.x}u.top=d(Math.max(u.top,u.top+(n.h-s)*t.topRatio));u.left=d(Math.max(u.left,u.left+(n.w-i)*t.leftRatio));return u},_afterZoomIn:function(){var e=o.current;if(!e){return}o.isOpen=o.isOpened=true;o.wrap.addClass("fancybox-opened").css("overflow","visible");o.reposition();if(e.closeClick||e.nextClick){o.inner.css("cursor","pointer").bind("click.fb",function(t){if(!n(t.target).is("a")&&!n(t.target).parent().is("a")){o[e.closeClick?"close":"next"]()}})}if(e.closeBtn){n(e.tpl.closeBtn).appendTo(o.skin).bind("click.fb",o.close)}if(e.arrows&&o.group.length>1){if(e.loop||e.index>0){n(e.tpl.prev).appendTo(o.outer).bind("click.fb",o.prev)}if(e.loop||e.index<o.group.length-1){n(e.tpl.next).appendTo(o.outer).bind("click.fb",o.next)}}o.trigger("afterShow");if(!e.loop&&e.index===e.group.length-1){o.play(false)}else if(o.opts.autoPlay&&!o.player.isActive){o.opts.autoPlay=false;o.play()}},_afterZoomOut:function(){var e=o.current;n(".fancybox-wrap").stop(true).trigger("onReset").remove();n.extend(o,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});o.trigger("afterClose",e)}});o.transitions={getOrigPosition:function(){var e=o.current,t=e.element,n=e.orig,r={},i=50,s=50,u=e.hPadding,a=e.wPadding,l=o.getViewport();if(!n&&e.isDom&&t.is(":visible")){n=t.find("img:first");if(!n.length){n=t}}if(f(n)){r=n.offset();if(n.is("img")){i=n.outerWidth();s=n.outerHeight()}}else{r.top=l.y+(l.h-s)*e.topRatio;r.left=l.x+(l.w-i)*e.leftRatio}if(e.locked){r.top-=l.y;r.left-=l.x}r={top:d(r.top-u*e.topRatio),left:d(r.left-a*e.leftRatio),width:d(i+a),height:d(s+u)};return r},step:function(e,t){var n,r,i,s=t.prop,u=o.current,a=u.wrapSpace,f=u.skinSpace;if(s==="width"||s==="height"){n=t.end===t.start?1:(e-t.start)/(t.end-t.start);if(o.isClosing){n=1-n}r=s==="width"?u.wPadding:u.hPadding;i=e-r;o.skin[s](p(s==="width"?i:i-a*n));o.inner[s](p(s==="width"?i:i-a*n-f*n))}},zoomIn:function(){var e=o.current,t=e.pos,r=e.openEffect,i=r==="elastic",s=n.extend({opacity:1},t);delete s.position;if(i){t=this.getOrigPosition();if(e.openOpacity){t.opacity=.1}}else if(r==="fade"){t.opacity=.1}o.wrap.css(t).animate(s,{duration:r==="none"?0:e.openSpeed,easing:e.openEasing,step:i?this.step:null,complete:o._afterZoomIn})},zoomOut:function(){var e=o.current,t=e.closeEffect,n=t==="elastic",r={opacity:.1};if(n){r=this.getOrigPosition();if(e.closeOpacity){r.opacity=.1}}o.wrap.animate(r,{duration:t==="none"?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:o._afterZoomOut})},changeIn:function(){var e=o.current,t=e.nextEffect,n=e.pos,r={opacity:1},i=o.direction,s=200,u;n.opacity=.1;if(t==="elastic"){u=i==="down"||i==="up"?"top":"left";if(i==="down"||i==="right"){n[u]=d(p(n[u])-s);r[u]="+="+s+"px"}else{n[u]=d(p(n[u])+s);r[u]="-="+s+"px"}}if(t==="none"){o._afterZoomIn()}else{o.wrap.css(n).animate(r,{duration:e.nextSpeed,easing:e.nextEasing,complete:o._afterZoomIn})}},changeOut:function(){var e=o.previous,t=e.prevEffect,r={opacity:.1},i=o.direction,s=200;if(t==="elastic"){r[i==="down"||i==="up"?"top":"left"]=(i==="up"||i==="left"?"-":"+")+"="+s+"px"}e.wrap.animate(r,{duration:t==="none"?0:e.prevSpeed,easing:e.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}};o.helpers.overlay={overlay:null,update:function(){var e="100%",r;this.overlay.width(e).height("100%");if(n.browser.msie){r=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth);if(s.width()>r){e=s.width()}}else if(s.width()>i.width()){e=s.width()}this.overlay.width(e).height(s.height())},onReady:function(e,r){n(".fancybox-overlay").stop(true,true);if(!this.overlay){n.extend(this,{overlay:n('<div class="fancybox-overlay"></div>').appendTo(r.parent),margin:s.height()>i.height()||n("body").css("overflow-y")==="scroll"?n("body").css("margin-right"):false,el:t.all&&!t.querySelector?n("html"):n("body")})}if(r.fixed&&!a){this.overlay.addClass("fancybox-overlay-fixed");if(r.autoCenter){this.overlay.append(r.wrap);r.locked=this.overlay}}if(e.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(e,t){var r=this.overlay.unbind(".fb").width("auto").height("auto").css(e.css);if(e.closeClick){r.bind("click.fb",function(e){if(n(e.target).hasClass("fancybox-overlay")){o.close()}})}if(t.fixed&&!a){if(t.locked){this.el.addClass("fancybox-lock");if(this.margin!==false){n("body").css("margin-right",p(this.margin)+t.scrollbarWidth)}}}else{this.update()}r.show()},onUpdate:function(e,t){if(!t.fixed||a){this.update()}},afterClose:function(e){var t=this,r=e.speedOut||0;if(t.overlay&&!o.isActive){t.overlay.fadeOut(r||0,function(){n("body").css("margin-right",t.margin);t.el.removeClass("fancybox-lock");t.overlay.remove();t.overlay=null})}}};o.helpers.title={beforeShow:function(e){var t=o.current.title,r=e.type,i,s;if(!l(t)||n.trim(t)===""){return}i=n('<div class="fancybox-title fancybox-title-'+r+'-wrap">'+t+"</div>");switch(r){case"inside":s=o.skin;break;case"outside":s=o.wrap;break;case"over":s=o.inner;break;default:s=o.skin;i.appendTo("body").width(i.width()).wrapInner('<span class="child"></span>');o.current.margin[2]+=Math.abs(p(i.css("margin-bottom")));break}if(e.position==="top"){i.prependTo(s)}else{i.appendTo(s)}}};n.fn.fancybox=function(e){var t,r=n(this),i=this.selector||"",u=function(s){var u=n(this).blur(),a=t,f,l;if(!(s.ctrlKey||s.altKey||s.shiftKey||s.metaKey)&&!u.is(".fancybox-wrap")){f=e.groupAttr||"data-fancybox-group";l=u.attr(f);if(!l){f="rel";l=u.get(0)[f]}if(l&&l!==""&&l!=="nofollow"){u=i.length?n(i):r;u=u.filter("["+f+'="'+l+'"]');a=u.index(this)}e.index=a;if(o.open(u,e)!==false){s.preventDefault()}}};e=e||{};t=e.index||0;if(!i||e.live===false){r.unbind("click.fb-start").bind("click.fb-start",u)}else{s.undelegate(i,"click.fb-start").delegate(i+":not('.fancybox-item, .fancybox-nav')","click.fb-start",u)}return this};s.ready(function(){if(n.scrollbarWidth===r){n.scrollbarWidth=function(){var e=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),r=t.innerWidth()-t.height(99).innerWidth();e.remove();return r}}if(n.support.fixedPosition===r){n.support.fixedPosition=function(){var e=n('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=e[0].offsetTop===20||e[0].offsetTop===15;e.remove();return t}()}n.extend(o.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")})})})(window,document,jQuery)